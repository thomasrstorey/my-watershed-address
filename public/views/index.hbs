<!doctype html>
<html lang="en">
  <head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
    <link rel="stylesheet" href="../libs/openlayers3/css/ol.css" type="text/css">
    <style>
      .map {
        height: auto;
        width: 100%;
      }
    </style>
    <script src="../libs/openlayers3/build/ol.js" type="text/javascript"></script>
    <script type="application/json" id="watersheds" src="">{{{watersheds}}}</script>
     <title>My Watershed Address</title>
  </head>
  <body>
    <h2>My Watershed Address</h2>
    <div id="map" class="map"></div>
    <script src="../js/geometryStyles.js" type="text/javascript"></script>
    <script type="text/javascript">

	var wsGeo = JSON.parse(document.getElementById("watersheds").innerHTML);
    var jsonVectorSource = new ol.source.GeoJSON(wsGeo);
    var jsonVectorLayer = new ol.layer.Vector({
      source: jsonVectorSource,
      style: styleFunction
    });
	var extent = ol.proj.transformExtent([-82.3, 29.6, -82, 29.9], 'EPSG:4326', 'EPSG:3857');
    var map = new ol.Map({
	    target: 'map',
	    layers: [
	      new ol.layer.Tile({
	        source: new ol.source.OSM({
	        	url: "http://localhost/osm/{z}/{x}/{y}.png",
	        	crossOrigin: null
	        })
	      }), 
	      jsonVectorLayer
	    ],
	    view: new ol.View({
	      center: ol.proj.transform([-82.3,29.6], 'EPSG:4326', 'EPSG:3857'),
	      zoom: 8
	    })
    });
    </script>
  </body>
</html>